{"version":3,"sources":["store/UserStore.js","utils/consts.js","assets/img/home_bg.jpg","pages/Home.jsx","http/index.js","http/userAPI.js","pages/Login.jsx","utils/validator.js","pages/Registration.jsx","http/linkAPI.js","components/CreateModal/CreateModal.jsx","components/MyHr/MyHr.jsx","components/MyButton/MyButton.jsx","components/LinksAside.jsx","components/LinkDetail.js","router/routes.js","pages/Links.jsx","router/AppRouter.js","components/Navbar/NavBar.jsx","assets/img/logo.png","App.js","store/LinksStore.js","index.js"],"names":["UserStore","this","_isAuth","_user","makeAutoObservable","bool","user","HOME_URL","REGISTER_URL","LOGIN_URL","LINKS_URL","Home","useContext","Context","useHistory","className","Container","Row","Col","md","Button","onClick","window","location","isAuth","id","variant","src","homeBg","$host","axios","create","baseURL","process","$authHost","interceptors","request","use","config","headers","authorization","localStorage","getItem","registration","form","a","post","name","email","password","data","setItem","token","login","getUser","userId","get","console","log","message","check","jwtDecode","Login","history","useState","setEmail","setPassword","passwordInput","useRef","submitForm","userData","setUser","setIsAuth","push","alert","Card","onKeyUp","e","key","keySubmitForm","Title","to","InputGroup","FormControl","onChange","event","target","value","placeholder","type","ref","input","current","validateName","trim","validateEmail","validatePassword","validateTitle","title","validateFullUrl","fullUrl","isStringIncludeAt","isStringIncludeUnacceptableCharacters","Error","lengthTest","test","url","split","includes","string","min","max","length","Registration","setName","validationMsg","setValidationMsg","toRegister","validationResult","validator","validateForm","getLinks","createLink","deleteLink","linkId","delete","deleteLinks","ids","CreateModal","observer","getAndSetLinks","links","setTitle","setFullUrl","validateMsg","setValidateMsg","closeModal","setIsCreateModal","validateResult","validateCreateLinkForm","then","Modal","show","isCreateModal","keyboard","centered","onHide","Header","Body","Form","Text","style","marginTop","color","Footer","MyHr","props","backgroundColor","height","MyButton","callBack","fontSize","classes","text","LinksAside","countLinks","Object","keys","resultWord","formatDate","dateString","date","Date","toLocaleString","month","toUpperCase","getDate","count","map","i","link","shortUrl","indexOfActiveLink","linkIndex","setIndexOfActiveLink","setActiveLink","changeLink","Check","checked","isChecked","checkboxClick","LinkDetail","activeLink","shortUrlFormat","getTotalClicksAndSelected","clickCount","selectedCount","countFollows","clicks","selected","checkedLinks","_id","join","r","reload","deleteLinksFromDb","undefined","substr","href","navigator","clipboard","writeText","publicRoutes","path","Component","authRoutes","setLinks","useEffect","AppRouter","component","exact","NavBar","logOut","createLinkModal","Navbar","Brand","alt","width","pathname","Dropdown","Toggle","Menu","Item","Divider","eventKey","Nav","Link","App","loading","setLoading","finally","removeItem","checkAndSetUser","Spinner","animation","LinksStore","_links","_isCreateModal","_indexOfActiveLink","_activeLink","linkI","prototype","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.4326bd71.chunk.js","sourcesContent":["import {makeAutoObservable} from \"mobx\";\r\n\r\nexport default class UserStore {\r\n    constructor() {\r\n        this._isAuth = false\r\n        this._user = ''\r\n        // чтобы mobx следил за изменениями этих переменных\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    setIsAuth(bool) {\r\n        this._isAuth = bool\r\n    }\r\n\r\n    setUser(user) {\r\n        this._user = user\r\n    }\r\n\r\n    get isAuth() {\r\n        return this._isAuth\r\n    }\r\n\r\n    get user() {\r\n        return this._user\r\n    }\r\n}","\r\nexport const HOME_URL = '/'\r\n// export const LINKS_URL = '/links'\r\nexport const REGISTER_URL = '/register'\r\nexport const LOGIN_URL = '/login'\r\n\r\nexport const LINKS_URL = '/:userId/links'\r\n\r\nexport const RECOVER_PASSWORD_URL = '/recover'\r\n","export default __webpack_public_path__ + \"static/media/home_bg.c4b4ff99.jpg\";","import React, {useContext} from 'react';\r\nimport {Button, Col, Container, Row} from \"react-bootstrap\";\r\nimport {Context} from 'index'\r\nimport homeBg from 'assets/img/home_bg.jpg'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {LINKS_URL, LOGIN_URL} from \"../utils/consts\";\r\n\r\nconst Home = () => {\r\n    const {user} = useContext(Context)\r\n    const history = useHistory()\r\n\r\n    const getStartedBtnClick = () => {\r\n        window.location = user.isAuth ? `${user.user.id}/links` : LOGIN_URL\r\n    }\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <Container>\r\n                <Row>\r\n                    <Col md={7} className={\"pt-5\"}>\r\n                        <h2>Short links, big results</h2>\r\n                        <h3>A URL shortener built with powerful tools to help you grow and protect your brand.</h3>\r\n                        <Button onClick={getStartedBtnClick} className={\"mt-3\"} variant=\"main\">Get started</Button>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <img src={homeBg} className={\"home__bg no-blue\"}/>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import axios from 'axios'\r\n\r\nconst $host = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n})\r\n\r\nconst $authHost = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n})\r\n\r\nconst authInterceptor = config => {\r\n    config.headers.authorization = `Bearer ${localStorage.getItem('token')}`\r\n    return config\r\n}\r\n\r\n$authHost.interceptors.request.use(authInterceptor)\r\n\r\nexport {\r\n    $host,\r\n    $authHost,\r\n}","import {$host, $authHost} from './index'\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nexport const registration = async (form) => {\r\n    const {data} = await $host.post('user/registration', {\r\n        name: form.name,\r\n        email: form.email,\r\n        password: form.password,\r\n    })\r\n    localStorage.setItem('token', data.token)\r\n    return data\r\n}\r\n\r\nexport const login = async (form) => {\r\n    const {data} = await $host.post('user/login', {\r\n        email: form.email,\r\n        password: form.password,\r\n    })\r\n    localStorage.setItem('token', data.token)\r\n    return data\r\n}\r\n\r\nexport const getUser = async (userId) => {\r\n    try {\r\n        const {data} = await $authHost.get('user/' + userId)\r\n        return data\r\n    } catch (e) {\r\n        console.log(e.message)\r\n    }\r\n}\r\n\r\nexport const check = async () => {\r\n    try {\r\n        const {data} = await $authHost.get('user/auth')\r\n        localStorage.setItem('token', data.token)\r\n        jwtDecode(data.token)\r\n        return data\r\n    } catch (e) {\r\n        console.log(e.message)\r\n    }\r\n}","import React, {useContext, useRef, useState} from 'react';\r\nimport {Container, Card, InputGroup, FormControl} from \"react-bootstrap\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {LINKS_URL, RECOVER_PASSWORD_URL, REGISTER_URL} from \"../utils/consts\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {getUser, login} from \"../http/userAPI\";\r\nimport {Context} from 'index'\r\n\r\nconst Login = () => {\r\n    const {user} = useContext(Context)\r\n    const history = useHistory()\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const passwordInput = useRef(null)\r\n\r\n    const changeInputType = (input) => {\r\n        input.type = input.type === 'password' ? 'text' : 'password'\r\n    }\r\n\r\n    const submitForm = async () => {\r\n        try {\r\n            let form = {email, password}\r\n            const data = await login(form)\r\n            const userData = await getUser(data.user.id)\r\n            user.setUser(userData)\r\n            user.setIsAuth(true)\r\n            // TODO: account url\r\n            history.push(LINKS_URL)\r\n        } catch (e) {\r\n            // TODO: обработка ошибки\r\n            alert('Bad credentials')\r\n        }\r\n    }\r\n\r\n    const keySubmitForm = (e) => {\r\n        if (e.key === 'Enter') {\r\n            submitForm()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={\"form\"}>\r\n            <Container>\r\n                <Card className={\"form__card mx-auto p-4\"} onKeyUp={(e) => keySubmitForm(e)}>\r\n                    <Card.Title className={\"form__title mx-auto\"}>\r\n                        <p>Log in and start sharing</p>\r\n                        Don't have an account? <span><Link className={\"form__get-started\"} to={REGISTER_URL}>Get started</Link></span>\r\n                    </Card.Title>\r\n                    <InputGroup className=\"mb-1\">\r\n                        <FormControl\r\n                            className={\"form__input mb-4\"}\r\n                            onChange={event => setEmail(event.target.value)}\r\n                            value={email}\r\n                            placeholder=\"Your email\"\r\n                            type={\"email\"}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup>\r\n                        <FormControl\r\n                            className={\"form__input form__input_pass \"}\r\n                            onChange={event => setPassword(event.target.value)}\r\n                            value={password}\r\n                            ref={passwordInput}\r\n                            placeholder=\"And password\"\r\n                            type={\"password\"}\r\n                            aria-describedby=\"basic-addon1\"\r\n                        />\r\n                        <Button onClick={() => changeInputType(passwordInput.current)} variant=\"main\" id=\"button-addon1\">\r\n                            <i className=\"fas fa-eye\"></i>\r\n                        </Button>\r\n                    </InputGroup>\r\n\r\n                    <div className=\"form__footer d-flex flex-column mt-3\">\r\n                        <Link className={\"form__forget ms-auto\"} to={RECOVER_PASSWORD_URL}>Forgot your password?</Link>\r\n                        <Button onClick={submitForm} className={\"form__btn mt-4\"} variant=\"main\">Log in</Button>\r\n                    </div>\r\n                </Card>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","\r\nclass Validator {\r\n    validateForm (form) {\r\n        try {\r\n            this.validateName(form.name.trim())\r\n            this.validateEmail(form.email.trim())\r\n            this.validatePassword(form.password.trim())\r\n            return null\r\n        } catch (e) {\r\n            return e.message\r\n        }\r\n    }\r\n    validateCreateLinkForm (form) {\r\n        try {\r\n            this.validateTitle(form.title)\r\n            this.validateFullUrl(form.fullUrl)\r\n            return null\r\n        } catch (e) {\r\n            return e.message\r\n        }\r\n    }\r\n\r\n    validateName (name) {\r\n        if (this.isStringIncludeAt(name) || this.isStringIncludeUnacceptableCharacters(name)) {\r\n            throw new Error('Name should not contain special characters')\r\n        }\r\n        if (!this.lengthTest(name, 3, 50)) {\r\n            throw new Error('Name should contain 3 or more characters')\r\n        }\r\n    }\r\n    validateEmail (email) {\r\n        if (!this.isStringIncludeAt(email) || !this.lengthTest(email, 6)) {\r\n            throw new Error('Email address is invalid')\r\n        }\r\n    }\r\n    validatePassword (password) {\r\n        let reg = /\\d+/\r\n        if (!reg.test(password)) {\r\n            throw new Error('Password is invalid')\r\n        }\r\n    }\r\n    validateTitle (title) {\r\n        if (this.isStringIncludeAt(title) || this.isStringIncludeUnacceptableCharacters(title)) {\r\n            throw new Error('Title should not contain special characters')\r\n        }\r\n        if (!this.lengthTest(title, 3, 50)) {\r\n            throw new Error('Title should contain 3 or more characters')\r\n        }\r\n    }\r\n    validateFullUrl (url) {\r\n        if (!url.split('//')[0].includes('http')) {\r\n            throw new Error('Bad url')\r\n        }\r\n    }\r\n\r\n     isStringIncludeUnacceptableCharacters (string) {\r\n        return /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g.test(string);\r\n    }\r\n    isStringIncludeAt (string) {\r\n        return /@/g.test(string)\r\n    }\r\n    lengthTest (string, min=0, max=70) {\r\n        return string.length <= max && string.length >= min\r\n    }\r\n}\r\n\r\nexport default new Validator()\r\n\r\n","import React, {useContext, useRef, useState} from 'react';\r\nimport {Button, Card, Container, FormControl, InputGroup} from \"react-bootstrap\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {LOGIN_URL, HOME_URL} from \"../utils/consts\";\r\nimport validator from \"../utils/validator\"\r\nimport {registration, getUser} from '../http/userAPI'\r\nimport {Context} from 'index.js'\r\n\r\n\r\nconst Registration = () => {\r\n    const {user} = useContext(Context)\r\n    const history = useHistory()\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const [validationMsg, setValidationMsg] = useState(null)\r\n\r\n    const passwordInput = useRef(null)\r\n\r\n    const changeInputType = (input) => {\r\n        input.type = input.type === 'password' ? 'text' : 'password'\r\n    }\r\n\r\n    const toRegister = async (form) => {\r\n        try {\r\n            const data = await registration(form)\r\n            const userData = await getUser(data.user.id)\r\n            user.setUser(userData)\r\n            user.setIsAuth(true)\r\n            // TODO: account url\r\n            history.push(HOME_URL)\r\n        } catch (e) {\r\n            // TODO: обработка ошибки\r\n            alert('Registration failed. Please, try later')\r\n        }\r\n    }\r\n\r\n    const submitForm = () => {\r\n        const form = {name, email, password}\r\n        const validationResult = validator.validateForm(form)\r\n        setValidationMsg(validationResult)\r\n        if (!validationResult) {\r\n            toRegister(form)\r\n        }\r\n    }\r\n\r\n    const keySubmitForm = (e) => {\r\n        if (e.key === 'Enter') {\r\n            submitForm()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={\"form\"}>\r\n            <Container>\r\n                <Card className={\"form__card mx-auto p-4\"} onKeyUp={(e) => keySubmitForm(e)}>\r\n                    <Card.Title className={\"form__title mx-auto\"}>\r\n                        <p>Create an account</p>\r\n                        Already have an account? <span><Link className={\"form__get-started\"} to={LOGIN_URL}>Log in</Link></span>\r\n                    </Card.Title>\r\n                    { validationMsg ?\r\n                        <div className=\"validation__msg mb-3 danger\">*{validationMsg}</div>\r\n                        : ''\r\n                    }\r\n                    <InputGroup className=\"mb-1\">\r\n                        <FormControl\r\n                            className={\"form__input mb-4\"}\r\n                            onChange={event => setName(event.target.value)}\r\n                            value={name}\r\n                            placeholder=\"Your name\"\r\n                            type={\"email\"}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup className=\"mb-1\">\r\n                        <FormControl\r\n                            className={\"form__input mb-4\"}\r\n                            onChange={event => setEmail(event.target.value)}\r\n                            value={email}\r\n                            placeholder=\"Your email\"\r\n                            type={\"email\"}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup>\r\n                        <FormControl\r\n                            className={\"form__input form__input_pass \"}\r\n                            onChange={event => setPassword(event.target.value)}\r\n                            value={password}\r\n                            ref={passwordInput}\r\n                            placeholder=\"And password\"\r\n                            type={\"password\"}\r\n                            aria-describedby=\"basic-addon1\"\r\n                        />\r\n                        <Button onClick={() => changeInputType(passwordInput.current)} variant=\"main\" id=\"button-addon1\">\r\n                            <i className=\"fas fa-eye\"></i>\r\n                        </Button>\r\n                    </InputGroup>\r\n\r\n                    <div className=\"form__footer d-flex flex-column mt-3\">\r\n                        <div className=\"validation d-flex justify-content-start\">\r\n                            <div className=\"validation__field me-5 d-flex align-items-center\">8 or more characters</div>\r\n                            <div className=\"validation__field d-flex align-items-center\">1 number</div>\r\n                        </div>\r\n                        <Button onClick={submitForm} className={\"form__btn mt-4\"} variant=\"main\">Register</Button>\r\n                    </div>\r\n                </Card>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Registration;","import {$authHost} from \"./index\";\r\n\r\n\r\nexport const getLinks = async (userId) => {\r\n    const {data} = await $authHost.get('link/' + userId)\r\n    return data\r\n}\r\n\r\nexport const createLink = async (userId, form) => {\r\n    const {data} = await $authHost.post('link/', {\r\n        userId,\r\n        url: form.fullUrl,\r\n        title: form.title\r\n    })\r\n    return data\r\n}\r\n\r\nexport const deleteLink = async (userId, linkId) => {\r\n    const {data} = await $authHost.delete(`link/${userId}/${linkId}`)\r\n    return data\r\n}\r\n\r\nexport const deleteLinks = async (userId, ids) => {\r\n    const {data} = await $authHost.delete(`link/${userId}?linkIds=${ids}`)\r\n    return data\r\n}","import React, {useContext, useState} from 'react';\r\nimport './style.scss'\r\nimport {Modal, Button, InputGroup, Form, FormControl} from \"react-bootstrap\";\r\nimport {Context} from 'index'\r\nimport {createLink} from \"../../http/linkAPI\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport validator from \"../../utils/validator\";\r\n\r\n\r\nconst CreateModal = observer(({getAndSetLinks}) => {\r\n    const {links, user} = useContext(Context)\r\n    const [title, setTitle] = useState('')\r\n    const [fullUrl, setFullUrl] = useState('')\r\n    const [validateMsg, setValidateMsg] = useState(null)\r\n\r\n    const userId = user.user.id\r\n\r\n    const closeModal = () => {\r\n        setTitle('')\r\n        setFullUrl('')\r\n        setValidateMsg(null)\r\n        links.setIsCreateModal(false)\r\n    }\r\n\r\n    const submitForm = () => {\r\n        const validateResult = validator.validateCreateLinkForm({title, fullUrl})\r\n        if (!validateResult) {\r\n            closeModal()\r\n            createLink(userId, {title, fullUrl}).then(() => {getAndSetLinks(userId)})\r\n            return\r\n        }\r\n        setValidateMsg(validateResult)\r\n    }\r\n\r\n    const keySubmitForm = (e) => {\r\n        if (e.key === 'Enter') {\r\n            submitForm()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            show={links.isCreateModal}\r\n            keyboard={true}\r\n            centered\r\n            onHide={closeModal}\r\n        >\r\n            <Modal.Header>\r\n                <Modal.Title>Create link</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form  className={\"py-2\"} onKeyUp={(e) => keySubmitForm(e)}>\r\n                    <Form.Text style={{marginTop: '-18px'}} color={\"danger\"} className=\"validation__msg d-block danger mb-2\">{validateMsg}</Form.Text>\r\n                    <InputGroup className=\"mb-3\">\r\n                        <FormControl\r\n                            className={\"form__input\"}\r\n                            onChange={event => setTitle(event.target.value)}\r\n                            value={title}\r\n                            placeholder=\"Link title\"\r\n                            type={\"text\"}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup>\r\n                        <FormControl\r\n                            className={\"form__input\"}\r\n                            onChange={event => setFullUrl(event.target.value)}\r\n                            value={fullUrl}\r\n                            placeholder=\"Past long url\"\r\n                            type={\"text\"}\r\n                        />\r\n                    </InputGroup>\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button className={'modal-btn modal-close'} variant=\"main\" onClick={closeModal}>\r\n                    Close\r\n                </Button>\r\n                <Button className={'modal-btn modal-create'} variant=\"main\" onClick={submitForm}>Create</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n});\r\n\r\nexport default CreateModal;","import React from 'react';\r\n// import 'myHr.scss'\r\n\r\nconst MyHr = (props) => {\r\n    return (\r\n        <div style={\r\n            {backgroundColor: props.color ? props.color : '#e3e3e3',\r\n            height: props.height ? props.height +'px' : '1px'\r\n        }}>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyHr;","import React from 'react';\r\nimport \"./style.scss\"\r\n\r\nconst MyButton = (props) => {\r\n    return (\r\n        <button onClick={props.callBack} style={{fontSize: props.fontSize + 'px'}} className={\"my-button \" + props.classes}>\r\n            {props.text}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default MyButton;\r\n","import React, {useContext, useState} from 'react';\r\nimport {Col, Row, Form} from \"react-bootstrap\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {Context} from \"index\";\r\nimport MyHr from \"./MyHr/MyHr\";\r\nimport MyButton from \"./MyButton/MyButton\";\r\n// import MyHr from \"MyHr/MyHr\";\r\n\r\n\r\nconst LinksAside = observer((props) => {\r\n    const {links} = useContext(Context)\r\n\r\n    const countLinks = Object.keys(links.links).length\r\n    const resultWord = countLinks>1 ? 'Results' : 'Result'\r\n\r\n    const changeLink = (link, linkIndex) => {\r\n        links.setIndexOfActiveLink(linkIndex)\r\n        links.setActiveLink(link)\r\n    }\r\n\r\n    const formatDate = (dateString) => {\r\n        const date = new Date(dateString)\r\n        return `${date.toLocaleString('eng', {month: 'short'}).toUpperCase()} \r\n        ${date.getDate()}`\r\n    }\r\n\r\n    const createLinkModal = () => {\r\n        links.setIsCreateModal(true)\r\n    }\r\n\r\n    const checkboxClick = (target, link) => {\r\n        if (target.checked) {\r\n            link.isChecked = true\r\n        } else {\r\n            link.isChecked = false\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Col className={\"links__aside aside-links\"} md={4}>\r\n            <Row className={\"aside-links__result d-flex justify-content-between flex-nowrap pe-2\"}>\r\n                <span className={'fs-6'}>{`${countLinks} ${resultWord}`}</span>\r\n                <span className={'fs-6'}>Clicks all time</span>\r\n            </Row>\r\n\r\n            <div>\r\n                { links.links.count() ===0 ?\r\n                    // <h2 className={\"ms-0 ps-0 mt-3 fs-1\"}>There are no links</h2>\r\n                    <MyButton callBack={createLinkModal} text={\"CREATE YOUR FIRST LINK\"} classes={\"aside-links__add-first\"} />\r\n                    :\r\n                    Object.keys(links.links).map((key, i) => {\r\n                        let link = links.links[key]\r\n                        let shortUrl = `${process.env.REACT_APP_SERVER_URL}${link.shortUrl}`\r\n                        return (\r\n                            <Row className={`py-2 my-2 d-flex align-items-center ` +\r\n                            `${links.indexOfActiveLink === i ? 'aside-link-active': 'aside-link'}`}\r\n                                 onClick={() => changeLink(link, i)}\r\n                                 key={i}\r\n                            >\r\n                                <Col className={\"aside-link__info d-inline-flex flex-column\" }>\r\n                                    <span className={\"aside-link__date\"}>{formatDate(link.date)}</span>\r\n                                    <span className={\"aside-link__title\"}>\r\n                                        <span className={\"me-4\"}>{link.title}</span>\r\n                                        <Form.Check\r\n                                            onChange={e => checkboxClick(e.target, link)}\r\n                                            className={\"aside-link__checkbox\"}\r\n                                            type={\"checkbox\"}\r\n                                            id={`default-checkbox`}\r\n                                        />\r\n                                    </span>\r\n                                    <span className={\"aside-link__short-url\"}>{shortUrl}</span>\r\n                                </Col>\r\n                            </Row>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n        </Col>\r\n    );\r\n});\r\n\r\nexport default LinksAside;","import React, {useContext, useEffect} from 'react';\r\nimport {Col, Row} from \"react-bootstrap\";\r\nimport {Context} from \"index\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport MyButton from \"./MyButton/MyButton\";\r\nimport MyHr from \"./MyHr/MyHr\";\r\nimport {deleteLink, deleteLinks} from \"http/linkAPI\";\r\n\r\n\r\nconst LinkDetail = observer(({getAndSetLinks}) => {\r\n    const {links, user} = useContext(Context)\r\n\r\n    const activeLink = links.activeLink\r\n    const serverUrl = process.env.REACT_APP_SERVER_URL\r\n\r\n    const formatDate = (dateString) => {\r\n        const date = new Date(dateString)\r\n        return `${date.toLocaleString('eng', {month: 'short'}).toUpperCase()} \r\n         ${date.getDate()}, ${date.toLocaleString().substr(12, 5)}`\r\n    }\r\n\r\n    const formatUrl = (url) => {\r\n        return url.length > 50 ? `${url.substr(0, 60)} + ...` : url\r\n    }\r\n\r\n    const shortUrlFormat = (url) => {\r\n        return `${serverUrl.split('/')[2]}/s/${url}`\r\n    }\r\n\r\n    const deleteLinkFromDb = (linkId) => {\r\n        deleteLink(user.user.id ,linkId).then(r => {\r\n            getAndSetLinks(user.user.id)\r\n        })\r\n    }\r\n\r\n    const deleteLinksFromDb = (links) => {\r\n        let ids = links.map(link => link._id)\r\n        ids = ids.join(',')\r\n        deleteLinks(user.user.id, ids).then(r => {\r\n            getAndSetLinks(user.user.id)\r\n        })\r\n        window.location.reload()\r\n    }\r\n\r\n    const getTotalClicksAndSelected = (links) => {\r\n        let clickCount = 0\r\n        let selectedCount = 0\r\n        links.map(link => {\r\n            selectedCount++\r\n            clickCount+= link.countFollows\r\n        })\r\n        selectedCount+= selectedCount > 1 ? ' links selected' : ' link selected'\r\n        return {\r\n            clicks: clickCount,\r\n            selected: selectedCount\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Col md={8} className={'link-detail pt-5 px-5'}>\r\n            {links.checkedLinks.length ?\r\n                <div className={'link-detail__checked-info mt-5 d-flex flex-column justify-content-center align-items-center'}>\r\n                    <MyButton callBack={() => deleteLinksFromDb(links.checkedLinks)} classes=\"mb-5 fs-5\"\r\n                              text=\"DELETE\"/>\r\n                    <h4 className={\"d-bloc mb-2\"}>{getTotalClicksAndSelected(links.checkedLinks).selected}</h4>\r\n                    <div><i style={{fontSize: '90px'}} className=\"fas fa-chart-bar\"></i></div>\r\n                    <h4 className={\"d-flex justify-content-center mt-4 flex-column align-items-center\"}>\r\n                        <div className={'fw-bolder'}>{getTotalClicksAndSelected(links.checkedLinks).clicks}</div>\r\n                        <div className={\"fs-5\"}>total click</div>\r\n                    </h4>\r\n                </div>\r\n                :\r\n                <div>\r\n                    {activeLink !== undefined ?\r\n                        <div className={'link-detail__body px-2'}>\r\n                            <div>\r\n                                <div\r\n                                    className={'link-detail__date mb-1'}>CREATED {formatDate(activeLink.date)} | {user.user.name}</div>\r\n                                <h2>{activeLink.title}</h2>\r\n                                <a className={'link-detail__link'} target=\"_blank\"\r\n                                   href={activeLink.fullUrl}>{formatUrl(activeLink.fullUrl)}</a>\r\n                            </div>\r\n\r\n                            <div className=\"link-detail__actions\">\r\n                                <a href={`${process.env.REACT_APP_SERVER_URL}s/${activeLink.shortUrl}`}>\r\n                                    {shortUrlFormat(activeLink.shortUrl)}\r\n                                </a>\r\n                                <div className=\"link-detail__btns\">\r\n                                    <MyButton\r\n                                        callBack={() => navigator.clipboard.writeText(shortUrlFormat(activeLink.shortUrl))}\r\n                                        classes=\"ms-3 fs-6\" text=\"COPY\"/>\r\n                                    <MyButton callBack={() => deleteLinkFromDb(activeLink._id)} classes=\"ms-3 fs-6\"\r\n                                              text=\"DELETE\"/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <MyHr color={\"#B0927B\"} height={2}/>\r\n\r\n                            <div className=\"link-detail__counts mt-3\">\r\n                                <span className={'fw-bolder fs-5 me-1'}>{activeLink.countFollows}</span><i\r\n                                className=\"fas fa-align-left\"></i>\r\n                                <p className={'fw-normal'}>TOTAL CLICK</p>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <h2 className={'d-inline-block fs-4 mx-auto'}>No Link Selected</h2>\r\n                    }\r\n                </div>\r\n            }\r\n        </Col>\r\n    );\r\n});\r\n\r\nexport default LinkDetail;","import {HOME_URL, LOGIN_URL, REGISTER_URL, LINKS_URL} from \"../utils/consts\";\r\nimport Home from \"../pages/Home\";\r\nimport Login from \"../pages/Login\";\r\nimport Registration from \"../pages/Registration\";\r\nimport Links from \"pages/Links\"\r\n\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: HOME_URL,\r\n        Component: Home\r\n    },\r\n    {\r\n        path: REGISTER_URL,\r\n        Component: Registration\r\n    },\r\n    {\r\n        path: LOGIN_URL,\r\n        Component: Login\r\n    }\r\n]\r\n\r\nexport const authRoutes = [\r\n    {\r\n        path: LINKS_URL,\r\n        Component: Links\r\n    },\r\n]","import React, {useContext, useEffect} from 'react';\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport {getLinks} from \"http/linkAPI\";\r\nimport {Context} from \"index\";\r\nimport CreateModal from \"components/CreateModal/CreateModal\";\r\nimport LinksAside from \"components/LinksAside\";\r\nimport LinkDetail from \"../components/LinkDetail\";\r\n\r\n\r\nconst Links = () => {\r\n    const {links, user} = useContext(Context)\r\n\r\n    const userId = user.user.id\r\n\r\n    const getAndSetLinks = (userId) => {\r\n        getLinks(userId).then(r => links.setLinks(r))\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAndSetLinks(userId)\r\n    })\r\n\r\n    return (\r\n        <div className={\"links\"}>\r\n            <CreateModal getAndSetLinks={getAndSetLinks}/>\r\n            <Container style={{height: '100vh'}}>\r\n                <Row className={\"links__body flex-row d-flex\"} style={{height: '100vh'}}>\r\n                    <LinksAside />\r\n                    <LinkDetail getAndSetLinks={getAndSetLinks} />\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Links;","import React, {useContext} from 'react';\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {authRoutes, publicRoutes} from \"./routes\";\r\nimport {HOME_URL} from \"../utils/consts\";\r\nimport {Context} from 'index'\r\nimport {observer} from \"mobx-react-lite\";\r\n\r\n\r\nconst AppRouter = observer(() => {\r\n    const {user} = useContext(Context)\r\n\r\n    return (\r\n        <Switch>\r\n            {publicRoutes.map(({path, Component})  =>\r\n                <Route key={path} path={path} component={Component} exact/>\r\n            )}\r\n            {user.isAuth && authRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} component={Component} exact />\r\n            )}\r\n            <Redirect to={HOME_URL} />\r\n        </Switch>\r\n    );\r\n});\r\n\r\nexport default AppRouter;","import React, {useContext} from 'react';\r\nimport {Container, Nav, Navbar, Dropdown} from \"react-bootstrap\";\r\nimport './navBar.scss'\r\nimport logo from 'assets/img/logo.png'\r\nimport {HOME_URL, LOGIN_URL, REGISTER_URL} from \"utils/consts\";\r\nimport {Context} from 'index'\r\nimport {observer} from \"mobx-react-lite\";\r\nimport { useHistory} from \"react-router-dom\";\r\nimport MyButton from \"../MyButton/MyButton\";\r\n\r\n\r\nconst NavBar = observer (({logOut, createLinkModal}) => {\r\n    const {user} = useContext(Context)\r\n    const userData = user.user\r\n    const history = useHistory()\r\n\r\n    return (\r\n        <Navbar className={\"navbar\"} variant=\"dark\">\r\n            <Container>\r\n                <Navbar.Brand className={\"navbar__logo\"} href={HOME_URL}>\r\n                    <img src={logo} alt=\"logo\" width={50} height={50}/>\r\n                    <span>Skimpy</span>\r\n                </Navbar.Brand>\r\n                <div className={\"d-flex align-center\"}>\r\n                    { user.isAuth && history.location.pathname.split('/')[2] === 'links' &&\r\n                        <MyButton callBack={createLinkModal} classes={\"me-3 px-4\"} fontSize={20} text=\"Create\"></MyButton>\r\n                    }\r\n                    { user.isAuth ?\r\n                        <Dropdown className=\"d-inline mx-2 dropdown\">\r\n                            <Dropdown.Toggle variant=\"outline-warning\" className=\"dropdown__toggle\" id=\"dropdown-autoclose-true\">\r\n                                {userData.name}\r\n                            </Dropdown.Toggle>\r\n                            <Dropdown.Menu className=\"dropdown__menu\">\r\n                                <Dropdown.Item className=\"dropdown__item\" href=\"/\">Home</Dropdown.Item>\r\n                                <Dropdown.Item className=\"dropdown__item\" href={'/' + userData.id + '/links'}>My Links</Dropdown.Item>\r\n                                <Dropdown.Divider></Dropdown.Divider>\r\n                                <Dropdown.Item className=\"dropdown__item\" onClick={logOut} eventKey=\"4\">Log out</Dropdown.Item>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                        :\r\n                        <Nav>\r\n                            <Nav.Link className={\"navbar__link\"} href={LOGIN_URL}>Log in</Nav.Link>\r\n                            <Nav.Link className={\"navbar__link\"} href={REGISTER_URL}>Get started</Nav.Link>\r\n                        </Nav>\r\n                    }\r\n                </div>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n});\r\n\r\nexport default NavBar;","export default \"data:image/png;base64,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\"","import './assets/styles/style.scss'\nimport {BrowserRouter} from \"react-router-dom\";\nimport AppRouter from \"./router/AppRouter\";\nimport NavBar from \"./components/Navbar/NavBar\";\nimport Footer from \"./components/Footer/Footer\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {Context} from './index'\nimport {check} from 'http/userAPI'\nimport {Spinner} from 'react-bootstrap'\nimport {getUser} from 'http/userAPI'\n\n\nfunction App() {\n    const {user, links} = useContext(Context)\n    const [loading, setLoading] = useState(true)\n\n    const checkAndSetUser = () => {\n        try {\n            check().then(async data => {\n                await setUser(data)\n            }).finally(() => setLoading(false))\n        } catch (e) {\n            localStorage.removeItem('token')\n            console.log(e.message)\n        }\n    }\n\n    const setUser = async (data) => {\n        await getUser(data.userId).then(\n            data => {\n                user.setUser(data)\n                user.setIsAuth(true)\n            })\n    }\n\n    const createLinkModal = () => {\n        links.setIsCreateModal(true)\n    }\n\n    const logOut = () => {\n        localStorage.removeItem('token')\n        user.setIsAuth(false)\n        user.setUser(null)\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem('token')) {\n            checkAndSetUser()\n        } else {\n            setLoading(false)\n        }\n    })\n    // if (loading) {\n    //     return <Spinner className={'mx-auto'} animation={\"grow\"}></Spinner>\n    // }\n\n  return (\n      <BrowserRouter>\n          <NavBar createLinkModal={createLinkModal} logOut={logOut} />\n          { loading ?\n              <div className={'spinner-wrapper'}><Spinner animation={\"border\"}></Spinner></div>:\n              <AppRouter />\n          }\n          {/*<Footer />*/}\n      </BrowserRouter>\n  );\n}\n\nexport default App;\n","import {makeAutoObservable} from \"mobx\";\r\n\r\nexport class LinksStore {\r\n    constructor() {\r\n        this._links = {}\r\n        this._isCreateModal = false\r\n        this._indexOfActiveLink = 0\r\n        this._activeLink = {}\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    setLinks(value) {\r\n        this._links = value\r\n    }\r\n    setIsCreateModal(value) {\r\n        this._isCreateModal = value\r\n    }\r\n    setIndexOfActiveLink(linkI) {\r\n        this._indexOfActiveLink = linkI\r\n    }\r\n    setActiveLink(value) {\r\n        this._activeLink = value\r\n    }\r\n\r\n    get links() {\r\n        return this._links\r\n    }\r\n    get isCreateModal() {\r\n        return this._isCreateModal\r\n    }\r\n    get indexOfActiveLink() {\r\n        return this._indexOfActiveLink\r\n    }\r\n    get activeLink() {\r\n        if (this._activeLink.count() === 0) {\r\n            return this._links[0]\r\n        }\r\n        return this._activeLink\r\n    }\r\n    // get checkedLinks() {\r\n    //     return this._checkedLinks\r\n    // }\r\n    get checkedLinks() {\r\n        let links = this.links\r\n        let checked = []\r\n        for (let key in links) {\r\n            if (links[key].count() && links[key].isChecked === true) {\r\n                checked.push(links[key])\r\n            }\r\n        }\r\n        console.log(checked)\r\n        return checked\r\n    }\r\n}","import React, {createContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport UserStore from 'store/UserStore'\nimport App from './App';\nimport {LinksStore} from \"./store/LinksStore\";\nimport 'utils/add'\n\nObject.prototype.count = function () {\n    return Object.keys(this).length\n}\n\nexport const Context = createContext(null)\n\nReactDOM.render(\n    <Context.Provider value={{\n        user: new UserStore(),\n        links: new LinksStore(),\n    }}>\n        <App />\n    </Context.Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}