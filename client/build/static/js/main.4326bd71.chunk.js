(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},114:function(e,t,n){},115:function(e,t){},116:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return ue}));var a=n(0),c=n(24),s=n.n(c),r=n(38),i=n(39),l=n(12),o=function(){function e(){Object(r.a)(this,e),this._isAuth=!1,this._user="",Object(l.d)(this)}return Object(i.a)(e,[{key:"setIsAuth",value:function(e){this._isAuth=e}},{key:"setUser",value:function(e){this._user=e}},{key:"isAuth",get:function(){return this._isAuth}},{key:"user",get:function(){return this._user}}]),e}(),u=n(7),d=n.n(u),j=n(14),h=n(19),b=(n(85),n(29)),m=n(11),f="/",p="/register",x="/login",O="/:userId/links",k=n(121),v=n(122),g=n(76),N=n(77),y=n.p+"static/media/home_bg.c4b4ff99.jpg",A=n(1),w=function(){var e=Object(a.useContext)(ue).user;Object(m.g)();return Object(A.jsx)("div",{className:"home",children:Object(A.jsx)(k.a,{children:Object(A.jsxs)(v.a,{children:[Object(A.jsxs)(g.a,{md:7,className:"pt-5",children:[Object(A.jsx)("h2",{children:"Short links, big results"}),Object(A.jsx)("h3",{children:"A URL shortener built with powerful tools to help you grow and protect your brand."}),Object(A.jsx)(N.a,{onClick:function(){window.location=e.isAuth?"".concat(e.user.id,"/links"):x},className:"mt-3",variant:"main",children:"Get started"})]}),Object(A.jsx)(g.a,{md:5,children:Object(A.jsx)("img",{src:y,className:"home__bg no-blue"})})]})})})},C=n(130),L=n(123),I=n(79),U=n(64),V=n.n(U),R=V.a.create({baseURL:"https://skimpy-api-exress.herokuapp.com/api/"}),T=V.a.create({baseURL:"https://skimpy-api-exress.herokuapp.com/api/"});T.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e}));var F=n(78),K=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("user/registration",{name:t.name,email:t.email,password:t.password});case 2:return n=e.sent,a=n.data,localStorage.setItem("token",a.token),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("user/login",{email:t.email,password:t.password});case 2:return n=e.sent,a=n.data,localStorage.setItem("token",a.token),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("user/"+t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("user/auth");case 3:return t=e.sent,n=t.data,localStorage.setItem("token",n.token),Object(F.a)(n.token),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(a.useContext)(ue).user,t=Object(m.g)(),n=Object(a.useState)(""),c=Object(h.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),l=Object(h.a)(i,2),o=l[0],u=l[1],f=Object(a.useRef)(null),x=function(){var n=Object(j.a)(d.a.mark((function n(){var a,c,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={email:s,password:o},n.next=4,q(a);case 4:return c=n.sent,n.next=7,W(c.user.id);case 7:r=n.sent,e.setUser(r),e.setIsAuth(!0),t.push(O),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),alert("Bad credentials");case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(){return n.apply(this,arguments)}}();return Object(A.jsx)("div",{className:"form",children:Object(A.jsx)(k.a,{children:Object(A.jsxs)(C.a,{className:"form__card mx-auto p-4",onKeyUp:function(e){return function(e){"Enter"===e.key&&x()}(e)},children:[Object(A.jsxs)(C.a.Title,{className:"form__title mx-auto",children:[Object(A.jsx)("p",{children:"Log in and start sharing"}),"Don't have an account? ",Object(A.jsx)("span",{children:Object(A.jsx)(b.b,{className:"form__get-started",to:p,children:"Get started"})})]}),Object(A.jsx)(L.a,{className:"mb-1",children:Object(A.jsx)(I.a,{className:"form__input mb-4",onChange:function(e){return r(e.target.value)},value:s,placeholder:"Your email",type:"email"})}),Object(A.jsxs)(L.a,{children:[Object(A.jsx)(I.a,{className:"form__input form__input_pass ",onChange:function(e){return u(e.target.value)},value:o,ref:f,placeholder:"And password",type:"password","aria-describedby":"basic-addon1"}),Object(A.jsx)(N.a,{onClick:function(){var e;(e=f.current).type="password"===e.type?"text":"password"},variant:"main",id:"button-addon1",children:Object(A.jsx)("i",{className:"fas fa-eye"})})]}),Object(A.jsxs)("div",{className:"form__footer d-flex flex-column mt-3",children:[Object(A.jsx)(b.b,{className:"form__forget ms-auto",to:"/recover",children:"Forgot your password?"}),Object(A.jsx)(N.a,{onClick:x,className:"form__btn mt-4",variant:"main",children:"Log in"})]})]})})})},Q=new(function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"validateForm",value:function(e){try{return this.validateName(e.name.trim()),this.validateEmail(e.email.trim()),this.validatePassword(e.password.trim()),null}catch(t){return t.message}}},{key:"validateCreateLinkForm",value:function(e){try{return this.validateTitle(e.title),this.validateFullUrl(e.fullUrl),null}catch(t){return t.message}}},{key:"validateName",value:function(e){if(this.isStringIncludeAt(e)||this.isStringIncludeUnacceptableCharacters(e))throw new Error("Name should not contain special characters");if(!this.lengthTest(e,3,50))throw new Error("Name should contain 3 or more characters")}},{key:"validateEmail",value:function(e){if(!this.isStringIncludeAt(e)||!this.lengthTest(e,6))throw new Error("Email address is invalid")}},{key:"validatePassword",value:function(e){if(!/\d+/.test(e))throw new Error("Password is invalid")}},{key:"validateTitle",value:function(e){if(this.isStringIncludeAt(e)||this.isStringIncludeUnacceptableCharacters(e))throw new Error("Title should not contain special characters");if(!this.lengthTest(e,3,50))throw new Error("Title should contain 3 or more characters")}},{key:"validateFullUrl",value:function(e){if(!e.split("//")[0].includes("http"))throw new Error("Bad url")}},{key:"isStringIncludeUnacceptableCharacters",value:function(e){return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(e)}},{key:"isStringIncludeAt",value:function(e){return/@/g.test(e)}},{key:"lengthTest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70;return e.length<=n&&e.length>=t}}]),e}()),Z=function(){var e=Object(a.useContext)(ue).user,t=Object(m.g)(),n=Object(a.useState)(""),c=Object(h.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),l=Object(h.a)(i,2),o=l[0],u=l[1],p=Object(a.useState)(""),O=Object(h.a)(p,2),v=O[0],g=O[1],y=Object(a.useState)(null),w=Object(h.a)(y,2),U=w[0],V=w[1],R=Object(a.useRef)(null),T=function(){var n=Object(j.a)(d.a.mark((function n(a){var c,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K(a);case 3:return c=n.sent,n.next=6,W(c.user.id);case 6:s=n.sent,e.setUser(s),e.setIsAuth(!0),t.push(f),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),alert("Registration failed. Please, try later");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),F=function(){var e={name:s,email:o,password:v},t=Q.validateForm(e);V(t),t||T(e)};return Object(A.jsx)("div",{className:"form",children:Object(A.jsx)(k.a,{children:Object(A.jsxs)(C.a,{className:"form__card mx-auto p-4",onKeyUp:function(e){return function(e){"Enter"===e.key&&F()}(e)},children:[Object(A.jsxs)(C.a.Title,{className:"form__title mx-auto",children:[Object(A.jsx)("p",{children:"Create an account"}),"Already have an account? ",Object(A.jsx)("span",{children:Object(A.jsx)(b.b,{className:"form__get-started",to:x,children:"Log in"})})]}),U?Object(A.jsxs)("div",{className:"validation__msg mb-3 danger",children:["*",U]}):"",Object(A.jsx)(L.a,{className:"mb-1",children:Object(A.jsx)(I.a,{className:"form__input mb-4",onChange:function(e){return r(e.target.value)},value:s,placeholder:"Your name",type:"email"})}),Object(A.jsx)(L.a,{className:"mb-1",children:Object(A.jsx)(I.a,{className:"form__input mb-4",onChange:function(e){return u(e.target.value)},value:o,placeholder:"Your email",type:"email"})}),Object(A.jsxs)(L.a,{children:[Object(A.jsx)(I.a,{className:"form__input form__input_pass ",onChange:function(e){return g(e.target.value)},value:v,ref:R,placeholder:"And password",type:"password","aria-describedby":"basic-addon1"}),Object(A.jsx)(N.a,{onClick:function(){var e;(e=R.current).type="password"===e.type?"text":"password"},variant:"main",id:"button-addon1",children:Object(A.jsx)("i",{className:"fas fa-eye"})})]}),Object(A.jsxs)("div",{className:"form__footer d-flex flex-column mt-3",children:[Object(A.jsxs)("div",{className:"validation d-flex justify-content-start",children:[Object(A.jsx)("div",{className:"validation__field me-5 d-flex align-items-center",children:"8 or more characters"}),Object(A.jsx)("div",{className:"validation__field d-flex align-items-center",children:"1 number"})]}),Object(A.jsx)(N.a,{onClick:F,className:"form__btn mt-4",variant:"main",children:"Register"})]})]})})})},z=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("link/"+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("link/",{userId:t,url:n.fullUrl,title:n.title});case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.delete("link/".concat(t,"/").concat(n));case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.delete("link/".concat(t,"?linkIds=").concat(n));case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=(n(110),n(126)),G=n(127),_=n(31),P=Object(_.a)((function(e){var t=e.getAndSetLinks,n=Object(a.useContext)(ue),c=n.links,s=n.user,r=Object(a.useState)(""),i=Object(h.a)(r,2),l=i[0],o=i[1],u=Object(a.useState)(""),d=Object(h.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(null),f=Object(h.a)(m,2),p=f[0],x=f[1],O=s.user.id,k=function(){o(""),b(""),x(null),c.setIsCreateModal(!1)},v=function(){var e=Q.validateCreateLinkForm({title:l,fullUrl:j});if(!e)return k(),void E(O,{title:l,fullUrl:j}).then((function(){t(O)}));x(e)};return Object(A.jsxs)(H.a,{show:c.isCreateModal,keyboard:!0,centered:!0,onHide:k,children:[Object(A.jsx)(H.a.Header,{children:Object(A.jsx)(H.a.Title,{children:"Create link"})}),Object(A.jsx)(H.a.Body,{children:Object(A.jsxs)(G.a,{className:"py-2",onKeyUp:function(e){return function(e){"Enter"===e.key&&v()}(e)},children:[Object(A.jsx)(G.a.Text,{style:{marginTop:"-18px"},color:"danger",className:"validation__msg d-block danger mb-2",children:p}),Object(A.jsx)(L.a,{className:"mb-3",children:Object(A.jsx)(I.a,{className:"form__input",onChange:function(e){return o(e.target.value)},value:l,placeholder:"Link title",type:"text"})}),Object(A.jsx)(L.a,{children:Object(A.jsx)(I.a,{className:"form__input",onChange:function(e){return b(e.target.value)},value:j,placeholder:"Past long url",type:"text"})})]})}),Object(A.jsxs)(H.a.Footer,{children:[Object(A.jsx)(N.a,{className:"modal-btn modal-close",variant:"main",onClick:k,children:"Close"}),Object(A.jsx)(N.a,{className:"modal-btn modal-create",variant:"main",onClick:v,children:"Create"})]})]})})),X=function(e){return Object(A.jsx)("div",{style:{backgroundColor:e.color?e.color:"#e3e3e3",height:e.height?e.height+"px":"1px"}})},B=(n(111),function(e){return Object(A.jsx)("button",{onClick:e.callBack,style:{fontSize:e.fontSize+"px"},className:"my-button "+e.classes,children:e.text})}),J=Object(_.a)((function(e){var t=Object(a.useContext)(ue).links,n=Object.keys(t.links).length,c=n>1?"Results":"Result",s=function(e){var t=new Date(e);return"".concat(t.toLocaleString("eng",{month:"short"}).toUpperCase()," \n        ").concat(t.getDate())};return Object(A.jsxs)(g.a,{className:"links__aside aside-links",md:4,children:[Object(A.jsxs)(v.a,{className:"aside-links__result d-flex justify-content-between flex-nowrap pe-2",children:[Object(A.jsx)("span",{className:"fs-6",children:"".concat(n," ").concat(c)}),Object(A.jsx)("span",{className:"fs-6",children:"Clicks all time"})]}),Object(A.jsx)("div",{children:0===t.links.count()?Object(A.jsx)(B,{callBack:function(){t.setIsCreateModal(!0)},text:"CREATE YOUR FIRST LINK",classes:"aside-links__add-first"}):Object.keys(t.links).map((function(e,n){var a=t.links[e],c="".concat("https://skimpy-api-exress.herokuapp.com/").concat(a.shortUrl);return Object(A.jsx)(v.a,{className:"py-2 my-2 d-flex align-items-center "+"".concat(t.indexOfActiveLink===n?"aside-link-active":"aside-link"),onClick:function(){return function(e,n){t.setIndexOfActiveLink(n),t.setActiveLink(e)}(a,n)},children:Object(A.jsxs)(g.a,{className:"aside-link__info d-inline-flex flex-column",children:[Object(A.jsx)("span",{className:"aside-link__date",children:s(a.date)}),Object(A.jsxs)("span",{className:"aside-link__title",children:[Object(A.jsx)("span",{className:"me-4",children:a.title}),Object(A.jsx)(G.a.Check,{onChange:function(e){return function(e,t){e.checked?t.isChecked=!0:t.isChecked=!1}(e.target,a)},className:"aside-link__checkbox",type:"checkbox",id:"default-checkbox"})]}),Object(A.jsx)("span",{className:"aside-link__short-url",children:c})]})},n)}))})]})})),$=Object(_.a)((function(e){var t,n=e.getAndSetLinks,c=Object(a.useContext)(ue),s=c.links,r=c.user,i=s.activeLink,l=function(e){return"".concat("https://skimpy-api-exress.herokuapp.com/".split("/")[2],"/s/").concat(e)},o=function(e){var t=0,n=0;return e.map((function(e){n++,t+=e.countFollows})),{clicks:t,selected:n+=n>1?" links selected":" link selected"}};return Object(A.jsx)(g.a,{md:8,className:"link-detail pt-5 px-5",children:s.checkedLinks.length?Object(A.jsxs)("div",{className:"link-detail__checked-info mt-5 d-flex flex-column justify-content-center align-items-center",children:[Object(A.jsx)(B,{callBack:function(){return function(e){var t=e.map((function(e){return e._id}));t=t.join(","),D(r.user.id,t).then((function(e){n(r.user.id)})),window.location.reload()}(s.checkedLinks)},classes:"mb-5 fs-5",text:"DELETE"}),Object(A.jsx)("h4",{className:"d-bloc mb-2",children:o(s.checkedLinks).selected}),Object(A.jsx)("div",{children:Object(A.jsx)("i",{style:{fontSize:"90px"},className:"fas fa-chart-bar"})}),Object(A.jsxs)("h4",{className:"d-flex justify-content-center mt-4 flex-column align-items-center",children:[Object(A.jsx)("div",{className:"fw-bolder",children:o(s.checkedLinks).clicks}),Object(A.jsx)("div",{className:"fs-5",children:"total click"})]})]}):Object(A.jsx)("div",{children:void 0!==i?Object(A.jsxs)("div",{className:"link-detail__body px-2",children:[Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"link-detail__date mb-1",children:["CREATED ",function(e){var t=new Date(e);return"".concat(t.toLocaleString("eng",{month:"short"}).toUpperCase()," \n         ").concat(t.getDate(),", ").concat(t.toLocaleString().substr(12,5))}(i.date)," | ",r.user.name]}),Object(A.jsx)("h2",{children:i.title}),Object(A.jsx)("a",{className:"link-detail__link",target:"_blank",href:i.fullUrl,children:(t=i.fullUrl,t.length>50?"".concat(t.substr(0,60)," + ..."):t)})]}),Object(A.jsxs)("div",{className:"link-detail__actions",children:[Object(A.jsx)("a",{href:"".concat("https://skimpy-api-exress.herokuapp.com/","s/").concat(i.shortUrl),children:l(i.shortUrl)}),Object(A.jsxs)("div",{className:"link-detail__btns",children:[Object(A.jsx)(B,{callBack:function(){return navigator.clipboard.writeText(l(i.shortUrl))},classes:"ms-3 fs-6",text:"COPY"}),Object(A.jsx)(B,{callBack:function(){return e=i._id,void Y(r.user.id,e).then((function(e){n(r.user.id)}));var e},classes:"ms-3 fs-6",text:"DELETE"})]})]}),Object(A.jsx)(X,{color:"#B0927B",height:2}),Object(A.jsxs)("div",{className:"link-detail__counts mt-3",children:[Object(A.jsx)("span",{className:"fw-bolder fs-5 me-1",children:i.countFollows}),Object(A.jsx)("i",{className:"fas fa-align-left"}),Object(A.jsx)("p",{className:"fw-normal",children:"TOTAL CLICK"})]})]}):Object(A.jsx)("h2",{className:"d-inline-block fs-4 mx-auto",children:"No Link Selected"})})})})),ee=[{path:f,Component:w},{path:p,Component:Z},{path:x,Component:M}],te=[{path:O,Component:function(){var e=Object(a.useContext)(ue),t=e.links,n=e.user.user.id,c=function(e){z(e).then((function(e){return t.setLinks(e)}))};return Object(a.useEffect)((function(){c(n)})),Object(A.jsxs)("div",{className:"links",children:[Object(A.jsx)(P,{getAndSetLinks:c}),Object(A.jsx)(k.a,{style:{height:"100vh"},children:Object(A.jsxs)(v.a,{className:"links__body flex-row d-flex",style:{height:"100vh"},children:[Object(A.jsx)(J,{}),Object(A.jsx)($,{getAndSetLinks:c})]})})]})}}],ne=Object(_.a)((function(){var e=Object(a.useContext)(ue).user;return Object(A.jsxs)(m.d,{children:[ee.map((function(e){var t=e.path,n=e.Component;return Object(A.jsx)(m.b,{path:t,component:n,exact:!0},t)})),e.isAuth&&te.map((function(e){var t=e.path,n=e.Component;return Object(A.jsx)(m.b,{path:t,component:n,exact:!0},t)})),Object(A.jsx)(m.a,{to:f})]})})),ae=n(129),ce=n(125),se=n(128),re=(n(112),Object(_.a)((function(e){var t=e.logOut,n=e.createLinkModal,c=Object(a.useContext)(ue).user,s=c.user,r=Object(m.g)();return Object(A.jsx)(ae.a,{className:"navbar",variant:"dark",children:Object(A.jsxs)(k.a,{children:[Object(A.jsxs)(ae.a.Brand,{className:"navbar__logo",href:f,children:[Object(A.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",width:50,height:50}),Object(A.jsx)("span",{children:"Skimpy"})]}),Object(A.jsxs)("div",{className:"d-flex align-center",children:[c.isAuth&&"links"===r.location.pathname.split("/")[2]&&Object(A.jsx)(B,{callBack:n,classes:"me-3 px-4",fontSize:20,text:"Create"}),c.isAuth?Object(A.jsxs)(ce.a,{className:"d-inline mx-2 dropdown",children:[Object(A.jsx)(ce.a.Toggle,{variant:"outline-warning",className:"dropdown__toggle",id:"dropdown-autoclose-true",children:s.name}),Object(A.jsxs)(ce.a.Menu,{className:"dropdown__menu",children:[Object(A.jsx)(ce.a.Item,{className:"dropdown__item",href:"/",children:"Home"}),Object(A.jsx)(ce.a.Item,{className:"dropdown__item",href:"/"+s.id+"/links",children:"My Links"}),Object(A.jsx)(ce.a.Divider,{}),Object(A.jsx)(ce.a.Item,{className:"dropdown__item",onClick:t,eventKey:"4",children:"Log out"})]})]}):Object(A.jsxs)(se.a,{children:[Object(A.jsx)(se.a.Link,{className:"navbar__link",href:x,children:"Log in"}),Object(A.jsx)(se.a.Link,{className:"navbar__link",href:p,children:"Get started"})]})]})]})})}))),ie=(n(114),n(124));var le=function(){var e=Object(a.useContext)(ue),t=e.user,n=e.links,c=Object(a.useState)(!0),s=Object(h.a)(c,2),r=s[0],i=s[1],l=function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(n.userId).then((function(e){t.setUser(e),t.setIsAuth(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){localStorage.getItem("token")?function(){try{S().then(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return i(!1)}))}catch(e){localStorage.removeItem("token"),console.log(e.message)}}():i(!1)})),Object(A.jsxs)(b.a,{children:[Object(A.jsx)(re,{createLinkModal:function(){n.setIsCreateModal(!0)},logOut:function(){localStorage.removeItem("token"),t.setIsAuth(!1),t.setUser(null)}}),r?Object(A.jsx)("div",{className:"spinner-wrapper",children:Object(A.jsx)(ie.a,{animation:"border"})}):Object(A.jsx)(ne,{})]})},oe=function(){function e(){Object(r.a)(this,e),this._links={},this._isCreateModal=!1,this._indexOfActiveLink=0,this._activeLink={},Object(l.d)(this)}return Object(i.a)(e,[{key:"setLinks",value:function(e){this._links=e}},{key:"setIsCreateModal",value:function(e){this._isCreateModal=e}},{key:"setIndexOfActiveLink",value:function(e){this._indexOfActiveLink=e}},{key:"setActiveLink",value:function(e){this._activeLink=e}},{key:"links",get:function(){return this._links}},{key:"isCreateModal",get:function(){return this._isCreateModal}},{key:"indexOfActiveLink",get:function(){return this._indexOfActiveLink}},{key:"activeLink",get:function(){return 0===this._activeLink.count()?this._links[0]:this._activeLink}},{key:"checkedLinks",get:function(){var e=this.links,t=[];for(var n in e)e[n].count()&&!0===e[n].isChecked&&t.push(e[n]);return console.log(t),t}}]),e}();n(115);Object.prototype.count=function(){return Object.keys(this).length};var ue=Object(a.createContext)(null);s.a.render(Object(A.jsx)(ue.Provider,{value:{user:new o,links:new oe},children:Object(A.jsx)(le,{})}),document.getElementById("root"))},85:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.4326bd71.chunk.js.map